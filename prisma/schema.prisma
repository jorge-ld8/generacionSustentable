generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Localidad {
  id            Int        @id @default(autoincrement())
  estado        String
  nombre        String     @unique
  acciones      ActionA1[] // Relation to actions
}

model Organizacion {
  id            Int        @id @default(autoincrement())
  nombre        String     @unique
  acciones      ActionA1[] // Relation to actions
  usuarios      User[]     // Relation to users
}

model ActionA1 {
  id                Int           @id @default(autoincrement())
  nombre            String
  type              String
  fecha_inicio      DateTime      @db.Date
  fecha_final       DateTime      @db.Date
  
  localidadId       Int
  localidad         Localidad     @relation(fields: [localidadId], references: [id])

  tipo_localidad   String?
  
  organizacionId    Int
  organizacion      Organizacion  @relation(fields: [organizacionId], references: [id])
  
  nro_participantes Int
  nro_mujeres       Int
  nro_noid          Int
  nro_pob_ind       Int?
  nro_pob_lgbtiq    Int
  nro_pob_rural     Int?
  nro_pob_16_29     Int?
  nro_lid_pob_16_29 Int
  descripcion       String
  nombre_real       String
  imgUrl            String?
}


model User {
  id           Int    @id @default(autoincrement())
  username     String 
  password     String
  organizacionId   Int?
  organizacion  Organizacion? @relation(fields: [organizacionId], references: [id])
  nombre       String
  apellido     String
}
